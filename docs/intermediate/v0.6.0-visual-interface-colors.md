# v0.6.0 - Visual Interface with Colors

**ğŸ¯ Goal:** Add colorful visual hierarchy and progress statistics

**ğŸ“¦ Implementation:**

**Import colored crate:**

```rust
use colored::Colorize;
```

**Enhanced list display:**

```rust
"list" => match fs::read_to_string("todos.txt") {
    Ok(content) => {
        let valid_lines: Vec<&str> = content
            .lines()
            .filter(|l| !l.trim().is_empty())
            .collect();

        if valid_lines.is_empty() {
            println!("No tasks");
        } else {
            println!("\nğŸ“‹ Tasks:\n");

            let mut completed = 0;
            let total = valid_lines.len();

            for (i, line) in valid_lines.iter().enumerate() {
                let number = format!("{}.", i + 1);

                if line.contains("[x]") {
                    let text = line.replace("[x]", "").trim().to_string();
                    
                    println!(
                        "{} {} {}",
                        number.dimmed(),
                        "âœ…".green(),
                        text.green().strikethrough()
                    );
                    completed += 1;
                } else {
                    let text = line.replace("[ ]", "").trim().to_string();
                    println!(
                        "{} {} {}",
                        number.dimmed(),
                        "â³".yellow(),
                        text.bright_white()
                    );
                }
            }

            println!("\n{}", "â”€".repeat(30).dimmed());

            let percentage = (completed as f32 / total as f32 * 100.0) as u32;
            let stats = format!("{} of {} completed ({}%)", completed, total, percentage);

            if percentage == 100 {
                println!("{}", stats.green().bold());
            } else if percentage >= 50 {
                println!("{}", stats.yellow());
            } else {
                println!("{}", stats.red());
            }

            println!();
        }
    }
    Err(_) => {
        println!("No tasks");
    }
}
```

**ğŸ§  Key Concepts:**

### The `colored` crate

```rust
use colored::Colorize;

"text".red()            // Red text
"text".green()          // Green text
"text".yellow()         // Yellow text
"text".dimmed()         // Dim/gray text
"text".bold()           // Bold text
"text".strikethrough()  // StrikeÌ¶tÌ¶hÌ¶rÌ¶oÌ¶uÌ¶gÌ¶hÌ¶
```

**These are chainable:**

```rust
"text".green().bold()           // Bold green
"text".red().strikethrough()    // Red with strikethrough
```

### Visual hierarchy

```rust
number.dimmed()          // De-emphasize task numbers
"âœ…".green()              // Completed indicator
text.green().strikethrough()  // Completed task
"â³".yellow()             // Pending indicator
text.bright_white()     // Pending task (prominent)
```

**Design principle:**

1. **Numbers are dimmed** - helper info, not main content
2. **Icons are colored** - quick visual scan
3. **Completed tasks strikethrough** - clearly done
4. **Pending tasks bright** - what needs attention

### Progress statistics with percentage

```rust
let completed = 0;
let total = valid_lines.len();

// Count completed during loop
if line.contains("[x]") {
    completed += 1;
}

// Calculate percentage
let percentage = (completed as f32 / total as f32 * 100.0) as u32;
```

**Type conversions explained:**

```rust
completed as f32   // usize â†’ f32 (for division)
total as f32       // usize â†’ f32
* 100.0            // f32 result
as u32             // f32 â†’ u32 (truncate decimals)
```

**Why this chain?**

```rust
// Without conversion
let percentage = completed / total * 100;
// 2 / 5 * 100 = 0 * 100 = 0  âŒ Integer division!

// With f32
let percentage = (2 as f32 / 5 as f32 * 100.0) as u32;
// 2.0 / 5.0 * 100.0 = 40.0 â†’ 40  âœ… Correct!
```

### Dynamic color based on progress

```rust
if percentage == 100 {
    println!("{}", stats.green().bold());     // ğŸ‰ All done!
} else if percentage >= 50 {
    println!("{}", stats.yellow());            // ğŸ“Š Making progress
} else {
    println!("{}", stats.red());               // ğŸ”´ Just started
}
```

**Psychology:**

- **Green** = Achievement, success, positive reinforcement
- **Yellow** = In progress, keep going
- **Red** = Attention needed, urgency

### Separator line

```rust
println!("\n{}", "â”€".repeat(30).dimmed());
```

**Creates visual separation:**

```
1. â³ Task 1
2. âœ… Task 2
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â† separator
2 of 2 completed (100%)
```

**Why dimmed?**

- Visual break without being loud
- Guides eye but doesn't distract

### Colored feedback messages

```rust
println!("{}", "âœ“ Task added".green());                 // Success
println!("{}", "âœ“ Task marked as completed".green());   // Success
println!("{}", "âœ“ Task unmarked".yellow());             // Neutral
println!("{}", "âœ“ Task removed".red());                  // Destructive
println!("{}", "âœ“ All tasks have been removed".red().bold());  // Very destructive
```

**Semantic coloring:**

- **Green** - Creating, completing (positive actions)
- **Yellow** - Undoing (neutral/reversible)
- **Red** - Deleting (destructive/permanent)
- **Red + Bold** - Very destructive (clear all)

**ğŸ”— Resources:**

- [Code v0.6.0](https://github.com/joaofelipegalvao/todo-cli/tree/v0.6.0)
- [Full diff](https://github.com/joaofelipegalvao/todo-cli/compare/v0.5.0...v0.6.0)
- [colored crate docs](https://docs.rs/colored/)